<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Email Signature Builder - Career Solutions for Today</title>
  <meta name="color-scheme" content="light dark" />
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/StevenMKay/CareerSolutionsForToday/24f41fc0ba84fa65c8b2fad5155b6b32c824486e/icons/CareerIcon.png">
  <style>
    /* ===== Base / Layout ===== */
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      min-height: 100vh; margin: 0; padding: 80px 20px 20px; color: #0f172a;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 24px; }
    .header h1 { margin: 0 0 6px; color: #0b4f6c; }

    .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; align-items: start; }
    .card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .card h2 { display:flex; align-items:center; justify-content:space-between; margin:0 0 14px; font-size: 1.2rem; color: #0b4f6c; }

    label { display:block; font-size:.9rem; margin: 6px 0 4px; }
    input[type="text"], input[type="email"], input[type="tel"], input[type="url"] {
      width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px;
      background: #ffffff; color:#111827; /* ensure visible text */
    }
    input::placeholder{ color:#6b7280; }
    input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,.15); }

    .btn { border:0; border-radius:8px; padding:8px 14px; cursor:pointer; display:inline-flex; align-items:center; gap:8px; transition: all 0.3s ease; }
    .btn-primary{ background:#0b4f6c; color:#fff; }
    .btn-primary:hover{ background:#1976d2; transform: translateY(-1px); }
    .btn-success{ background:#10b981; color:#fff; }
    .btn-success:hover{ background:#059669; transform: translateY(-1px); }
    .btn-ghost { background:#e5e7eb; }

    .form-row { display:grid; grid-template-columns: 1fr 2fr auto; gap:10px; align-items:end; }
    .btn-remove { background:#ef4444; color:#fff; width:36px; height:36px; border-radius:8px; display:flex; align-items:center; justify-content:center; }

    .upload-area { border:2px dashed #d1d5db; border-radius:8px; padding:14px; text-align:center; cursor:pointer; }
    .upload-area.has-image{ border-color:#10b981; background: rgba(16,185,129,.05); }
    .image-preview { max-width:100px; max-height:100px; border-radius:8px; display:block; margin:8px auto; }

    /* Social inputs laid out clearly */
    .soc-row { display:grid; grid-template-columns: 28px 100px 1fr; align-items:center; gap:10px; margin:8px 0; }
    .social-icon { width:20px; height:20px; object-fit:contain; }
    
    /* Icon style selector */
    .icon-style-selector { margin: 12px 0; padding: 12px; background: #f8f9fa; border-radius: 8px; }
    .icon-style-selector label { display: inline-flex; align-items: center; gap: 8px; margin-right: 20px; cursor: pointer; font-size: 0.95rem; }
    .icon-style-selector input[type="radio"] { cursor: pointer; width: 18px; height: 18px; }

    /* ===== Signature preview ===== */
    .signature-preview { background: #ffffff; border-radius:10px; border:1px solid #e5e7eb; padding:18px; }
    .signature-layout { display:flex; gap:18px; align-items:center; min-height:140px; }
    .signature-content { flex:1; }
    .signature-name { font-size: 1.8rem; font-weight: 700; margin: 0 0 2px; color:#111827; }
    .signature-title { font-size: 1.05rem; margin: 0 0 6px; color:#374151; }
    .signature-contact { font-size:.95rem; color:#374151; }
    .signature-contact a { color: inherit; text-decoration:none; }
    .signature-contact a:hover { color:#2563eb; }
    .signature-logo { height: 48px; margin: 0 0 8px; display:block; }
    .signature-photo { width:120px; height:120px; border-radius:8px; object-fit:cover; border:2px solid #e5e7eb; }

    .social-sidebar { display:flex; flex-direction:column; gap:8px; background:#f8fafb; border:1px solid #e5e7eb; border-radius:8px; padding:8px; }
    .social-item { width:36px; height:36px; border:1px solid #d1d5db; border-radius:6px; display:inline-block; text-decoration:none; line-height:0; font-size:0; }
    .social-item img { width:20px; height:20px; display:block; margin:8px auto 0; }

    /* ===== Dark mode (preview only) ===== */
    .dark body, .dark { background: #1a1a2e; color:#e5e7eb; }
    .dark .card { background: rgba(30,30,50,.9); border-color: rgba(255,255,255,.08); }
    .dark .signature-preview { background: #0b1220; border-color:#1f2937; }
    .dark .signature-name{ color:#f9fafb; }
    .dark .signature-title, .dark .signature-contact { color:#d1d5db; }
    .dark input[type="text"], .dark input[type="email"], .dark input[type="tel"], .dark input[type="url"]{ background:#111827; color:#f9fafb; border-color:#374151; }
    .dark .signature-photo{ border-color:#1f2937; }
    .dark .social-sidebar{ background:#0f172a; border-color:#1f2937; }
    .dark .icon-style-selector { background: #1f2937; }
    .dark .card h2 { color: #60a5fa; }

    /* ===== Mobile ===== */
    @media (max-width: 900px){ .main-grid{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Email Signature Builder</h1>
      <div style="margin-top:8px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
        <label style="display:inline-flex; align-items:center; gap:6px; cursor:pointer;">
          <input type="checkbox" id="chkDark" /> Dark mode (preview)
        </label>
        <label style="display:inline-flex; align-items:center; gap:6px; cursor:pointer;">
          <input type="checkbox" id="chkMobile" /> Mobile preview
        </label>
        <label style="display:inline-flex; align-items:center; gap:6px; cursor:pointer;">
          <input type="checkbox" id="chkNoBorders" /> Remove borders (signature)
        </label>
      </div>
    </div>

    <div class="main-grid">
      <div class="builder-panel">
        <div class="card">
          <h2>Text Information <button class="btn btn-primary" id="btnAddField">‚ûï Add Field</button></h2>
          <div id="textFields"></div>
        </div>

        <div class="card">
          <h2>Images</h2>
          <div style="display:grid; grid-template-columns: 1fr 1fr; gap:16px;">
            <div>
              <label>Profile Photo</label>
              <div class="upload-area" id="uaProfile"><div id="profilePreview">üì∑<br/>Click to upload photo</div></div>
              <input type="file" id="profilePhoto" accept="image/*" hidden />
            </div>
            <div>
              <label>Company Logo</label>
              <div class="upload-area" id="uaLogo"><div id="logoPreview">üè¢<br/>Click to upload logo</div></div>
              <input type="file" id="companyLogo" accept="image/*" hidden />
            </div>
          </div>
        </div>

        <div class="card">
          <h2>Social Media Links</h2>
          <div class="icon-style-selector">
            <strong>Icon Style:</strong>
            <label>
              <input type="radio" name="iconStyle" value="square" checked onchange="updateIconStyle(this.value)">
              Square Icons
            </label>
            <label>
              <input type="radio" name="iconStyle" value="circle" onchange="updateIconStyle(this.value)">
              Circular Icons
            </label>
          </div>
          <div id="socialMediaFields"></div>
        </div>
      </div>

      <div class="preview-panel">
        <div class="card">
          <h2>Live Preview</h2>
          <div class="signature-preview"><div id="signaturePreview" class="signature-layout"></div></div>
          <div style="text-align:center; display:flex; gap:10px; justify-content:center; margin-top:10px; flex-wrap:wrap;">
            <button class="btn btn-success" id="btnCopySig">üìã Copy Signature</button>
            <button class="btn btn-primary" id="btnCopyHTML">üîó Copy HTML Code</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tiny toast -->
  <div id="toast" style="position:fixed; right:20px; top:20px; background:#10b981; color:#fff; padding:10px 14px; border-radius:8px; opacity:0; transform:translateY(-10px); transition:all .25s;">copied</div>

  <script>
    // ===== State =====
    let textFields = [
      { id: '1', label: 'Full Name', value: 'John Doe', type: 'text' },
      { id: '2', label: 'Job Title', value: 'Senior Developer', type: 'text' },
      { id: '3', label: 'Company', value: 'Tech Corp', type: 'text' },
      { id: '4', label: 'Phone', value: '+1 (555) 123-4567', type: 'tel' },
      { id: '5', label: 'Email', value: 'john.doe@techcorp.com', type: 'email' }
    ];

    let iconStyle = 'square'; // default to square icons
    
    const socialIconsSquare = {
      instagram: 'Signature Icons/Instagram Icon Square.png',
      facebook : 'Signature Icons/Facebook Icon Square.png',
      linkedin : 'Signature Icons/LinkedIn Icon Square.png',
      website  : 'Signature Icons/Website Icon Square.png',
      youtube  : 'Signature Icons/YouTube Icon Square.png',
      github   : 'Signature Icons/GitHub Icon Square.png',
      tiktok   : 'Signature Icons/TikTok Icon Square.png'
    };
    
    const socialIconsCircle = {
      instagram: 'Signature Icons/Instagram Icon Circle.png',
      facebook : 'Signature Icons/Facebook Icon Circle.png',
      linkedin : 'Signature Icons/LinkedIn Icon Circle.png',
      website  : 'Signature Icons/Website Icon Circle.png',
      youtube  : 'Signature Icons/YouTube Icon Circle.png',
      github   : 'Signature Icons/GitHub Icon Circle.png',
      tiktok   : 'Signature Icons/TikTok Icon Circle.png'
    };
    
    function getSocialIcons() {
      return iconStyle === 'circle' ? socialIconsCircle : socialIconsSquare;
    }

    let socialLinks = { instagram:'', facebook:'', linkedin:'', website:'', youtube:'', github:'', tiktok:'' };
    let images = { profile:null, logo:null };

    let removeBorders = false; // checkbox controls this
    
    function updateIconStyle(style) {
      iconStyle = style;
      renderSocialFields();
      updatePreview();
    }

    // ===== Helpers =====
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    function toast(msg){ const t=$('#toast'); t.textContent=msg; t.style.opacity='1'; t.style.transform='translateY(0)'; setTimeout(()=>{t.style.opacity='0'; t.style.transform='translateY(-10px)';}, 2200); }

    // ===== UI builders =====
    function renderTextFields(){
      const c = $('#textFields');
      c.innerHTML = textFields.map(f => `
        <div class="form-row">
          <div><label>Field Name</label><input type="text" value="${f.label}" onchange="updateTextField('${f.id}','label',this.value)"></div>
          <div><label>Value</label><input type="${f.type}" value="${f.value}" onchange="updateTextField('${f.id}','value',this.value)"></div>
          <button class="btn btn-remove" onclick="removeTextField('${f.id}')">‚úñ</button>
        </div>`).join('');
    }
    function updateTextField(id, key, val){ const i=textFields.findIndex(x=>x.id===id); if(i>-1){ textFields[i][key]=val; updatePreview(); } }
    function removeTextField(id){ if(textFields.length>1){ textFields = textFields.filter(x=>x.id!==id); updatePreview(); renderTextFields(); } }

    function renderSocialFields(){
      const list = [
        {key:'instagram', name:'Instagram', ph:'https://instagram.com/username'},
        {key:'facebook' , name:'Facebook' , ph:'https://facebook.com/username'},
        {key:'linkedin' , name:'LinkedIn' , ph:'https://linkedin.com/in/username'},
        {key:'website'  , name:'Website'  , ph:'https://yourwebsite.com'},
        {key:'youtube'  , name:'YouTube'  , ph:'https://youtube.com/@username'},
        {key:'github'   , name:'GitHub'   , ph:'https://github.com/username'},
        {key:'tiktok'   , name:'TikTok'   , ph:'https://tiktok.com/@username'}
      ];
      const c = $('#socialMediaFields');
      const icons = getSocialIcons();
      c.innerHTML = list.map(p=>`
        <div class="soc-row">
          <img class="social-icon" src="${icons[p.key]}" alt="" />
          <div style="font-size:.9rem; color:#374151;">${p.name}</div>
          <input type="url" placeholder="${p.ph}" value="${socialLinks[p.key]}" oninput="socialLinks['${p.key}']=this.value; updatePreview();" />
        </div>`).join('');
    }

    // ===== Image uploads (simple) =====
    function wireUpload(boxId, inputId, previewId, imagesKey){
      $(boxId).addEventListener('click', ()=> $(inputId).click());
      $(inputId).addEventListener('change', e=>{
        const f=e.target.files[0]; if(!f) return; const reader=new FileReader();
        reader.onload=ev=>{ images[imagesKey]=ev.target.result; $(previewId).innerHTML=`<img src="${images[imagesKey]}" class="image-preview" alt=""/>`; $(boxId).classList.add('has-image'); updatePreview(); };
        reader.readAsDataURL(f);
      });
    }

    // ===== Preview =====
    function updatePreview(){
      const wrap = $('#signaturePreview');
      const activeSocial = Object.entries(socialLinks).filter(([,u])=>u && u.trim());

      const borderColor = removeBorders ? 'transparent' : '#e5e7eb';
      const sideBg = removeBorders ? 'transparent' : '#f8fafb';
      const icons = getSocialIcons();

      let socialHTML = '';
      if(activeSocial.length){
        socialHTML = `<div class="social-sidebar" style="background:${sideBg}; border-color:${borderColor};">`
          + activeSocial.map(([p,u])=>`
             <a href="${u}" class="social-item" target="_blank" rel="noopener noreferrer" title="${p}" style="border-color:${borderColor};">
               <img src="${icons[p]}" alt="" role="presentation" aria-hidden="true" />
             </a>`).join('') + `</div>`;
      }

      let content = `<div class="signature-content">`;
      if(images.logo){ content += `<img src="${images.logo}" class="signature-logo" alt="" />`; }

      textFields.forEach(f=>{
        if(!f.value.trim()) return;
        const l = f.label.toLowerCase();
        const isName = l.includes('name');
        const isTitle = l.includes('title') || l.includes('position');
        const isEmail = f.type==='email' || l.includes('email');
        const isPhone = f.type==='tel' || l.includes('phone');
        if(isName) content += `<div class="signature-name">${f.value}</div>`;
        else if(isTitle) content += `<div class="signature-title">${f.value}</div>`;
        else if(isPhone) content += `<div class="signature-contact"><a href="tel:${f.value}">${f.value}</a></div>`;
        else if(isEmail) content += `<div class="signature-contact"><a href="mailto:${f.value}">${f.value}</a></div>`;
        else content += `<div class="signature-contact"><strong>${f.label}:</strong> ${f.value}</div>`;
      });
      content += `</div>`;

      const photo = images.profile ? `<img src="${images.profile}" class="signature-photo" alt="" style="border-color:${borderColor};"/>` : '';
      wrap.innerHTML = socialHTML + content + photo;
    }

    // ===== Copy functions (robust, email-safe) =====
    function buildTables(forHtml){
      const activeSocial = Object.entries(socialLinks).filter(([,u])=>u && u.trim());
      const borderColor = removeBorders ? 'transparent' : '#dee2e6';
      const sideBg = removeBorders ? 'transparent' : '#f8f9fa';
      const icons = getSocialIcons();

      // Social column (font-size:0 hides any fallback text if icons are blocked)
      let socialCol = '';
      if(activeSocial.length){
        socialCol = `
          <td style=\"vertical-align:middle; padding-right:15px; width:60px; font-size:0; line-height:0;\">
            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"background:${sideBg}; border:1px solid ${borderColor}; border-collapse:collapse;\">
              ${activeSocial.map(([p,u])=>`
                <tr>
                  <td style=\"padding:3px 0; text-align:center; font-size:0; line-height:0;\">
                    <a href=\"${u}\" target=\"_blank\" rel=\"noopener\" style=\"display:inline-block; width:32px; height:32px; background:#ffffff; border:1px solid ${borderColor}; border-radius:4px; text-decoration:none; line-height:0; font-size:0;\">
                      <img src=\"${icons[p]}\" alt=\"\" border=\"0\" role=\"presentation\" aria-hidden=\"true\" style=\"width:18px; height:18px; display:block; margin:7px auto 0;\" />
                    </a>
                  </td>
                </tr>`).join('')}
            </table>
          </td>`;
      }

      // Main content
      let content = '';
      if(images.logo){ content += `<tr><td style=\"padding-bottom:10px;\"><img src=\"${images.logo}\" alt=\"\" border=\"0\" style=\"height:50px; display:block; max-width:200px;\"></td></tr>`; }
      textFields.forEach(f=>{
        if(!f.value.trim()) return; const l=f.label.toLowerCase();
        const isName=l.includes('name'); const isTitle=l.includes('title')||l.includes('position'); const isEmail=f.type==='email'||l.includes('email'); const isPhone=f.type==='tel'||l.includes('phone');
        if(isName) content += `<tr><td style=\"font-family:Arial, sans-serif; font-size:24px; font-weight:bold; color:#000000; padding-bottom:2px; line-height:1.2;\">${f.value}</td></tr>`;
        else if(isTitle) content += `<tr><td style=\"font-family:Arial, sans-serif; font-size:16px; color:#333333; padding-bottom:4px; line-height:1.2;\">${f.value}</td></tr>`;
        else if(isPhone) content += `<tr><td style=\"font-family:Arial, sans-serif; font-size:14px; color:#333333; padding-bottom:2px; line-height:1.3;\"><a href=\"tel:${f.value}\" style=\"color:#333333; text-decoration:none;\">${f.value}</a></td></tr>`;
        else if(isEmail) content += `<tr><td style=\"font-family:Arial, sans-serif; font-size:14px; color:#333333; padding-bottom:2px; line-height:1.3;\"><a href=\"mailto:${f.value}\" style=\"color:#333333; text-decoration:none;\">${f.value}</a></td></tr>`;
        else content += `<tr><td style=\"font-family:Arial, sans-serif; font-size:12px; color:#333333; padding-bottom:1px;\"><strong>${f.label}:</strong> ${f.value}</td></tr>`;
      });

      const photo = images.profile ? `<td style=\"vertical-align:middle; text-align:center; width:140px;\"><img src=\"${images.profile}\" alt=\"\" border=\"0\" style=\"width:120px; height:120px; border-radius:6px; border:2px solid ${borderColor}; display:block;\"></td>` : '';

      const table = `
        <!--[if mso]><table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"600\"><tr><td><![endif]-->
        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"600\" style=\"width:600px; font-family:Arial, sans-serif; font-size:14px; line-height:1.4; border-collapse:collapse; mso-table-lspace:0pt; mso-table-rspace:0pt; table-layout:auto;\">
          <tr>
            ${socialCol}
            <td style=\"vertical-align:middle; padding-right:15px; width:440px;\">
              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"100%\" style=\"border-collapse:collapse; mso-table-lspace:0pt; mso-table-rspace:0pt;\">${content}</table>
            </td>
            ${photo}
          </tr>
        </table>
        <!--[if mso]></td></tr></table><![endif]-->`;

      return table.trim();
    }

    function copySignature(){
      const html = buildTables(true);
      if (window.ClipboardItem && navigator.clipboard && navigator.clipboard.write) {
        const blob = new Blob([html], { type: 'text/html' });
        const item = new ClipboardItem({ 'text/html': blob, 'text/plain': new Blob([html], {type:'text/plain'}) });
        navigator.clipboard.write([item]).then(()=>toast('Signature copied (HTML). Paste into Outlook signature.'))
        .catch(()=>fallbackCopy(html));
      } else { fallbackCopy(html); }
    }
    function fallbackCopy(html){
      const temp = document.createElement('div');
      temp.contentEditable = 'true';
      temp.style.position='fixed'; temp.style.opacity='0'; temp.innerHTML = html;
      document.body.appendChild(temp);
      const r = document.createRange(); r.selectNodeContents(temp); const s = window.getSelection(); s.removeAllRanges(); s.addRange(r);
      document.execCommand('copy');
      s.removeAllRanges(); document.body.removeChild(temp);
      toast('Signature copied!');
    }{
      const temp = document.createElement('div');
      temp.innerHTML = buildTables(false);
      document.body.appendChild(temp);
      const r = document.createRange(); r.selectNode(temp); const s = window.getSelection(); s.removeAllRanges(); s.addRange(r);
      document.execCommand('copy');
      s.removeAllRanges(); document.body.removeChild(temp);
      toast('Signature copied! Paste into Outlook signature.');
    }

    function copyHTML(){
      const html = buildTables(true);
      navigator.clipboard.writeText(html).then(()=>toast('HTML code copied!'));
    }

    // ===== Event wiring =====
    document.getElementById('btnAddField').addEventListener('click', ()=>{
      textFields.push({ id:Date.now().toString(), label:'New Field', value:'', type:'text' });
      renderTextFields(); updatePreview();
    });
    document.getElementById('btnCopySig').addEventListener('click', copySignature);
    document.getElementById('btnCopyHTML').addEventListener('click', copyHTML);

    // toggles
    document.getElementById('chkDark').addEventListener('change', e=>{ document.documentElement.classList.toggle('dark', e.target.checked); });
    document.getElementById('chkNoBorders').addEventListener('change', e=>{ removeBorders = e.target.checked; updatePreview(); });
    document.getElementById('chkMobile').addEventListener('change', e=>{
      const p = document.getElementById('signaturePreview');
      if(e.target.checked){ p.parentElement.style.maxWidth='340px'; p.style.fontSize='12px'; }
      else { p.parentElement.style.maxWidth=''; p.style.fontSize=''; }
    });

    // uploads
    function init(){
      renderTextFields(); renderSocialFields(); updatePreview();
      wireUpload('#uaProfile', '#profilePhoto', '#profilePreview', 'profile');
      wireUpload('#uaLogo', '#companyLogo', '#logoPreview', 'logo');
    }
    init();
  </script>
</body>
</html>
