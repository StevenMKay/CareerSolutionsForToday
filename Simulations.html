<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Interactive Simulations - Learn by Doing | Career Solutions</title>
  <meta name="description" content="Learn through interactive simulations. Master Excel formulas, coding concepts, and more by building step-by-step with guided walkthroughs.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="site.css">
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/StevenMKay/CareerSolutionsForToday/24f41fc0ba84fa65c8b2fad5155b6b32c824486e/icons/CareerIcon.png">
</head>

<body>
<nav class="navbar">
  <ul class="nav-links" id="navLinks">
    <li><a href="index.html">Home</a></li>
    <li><a href="Videos.html">Videos</a></li>
    <li><a href="Templates.html">Templates</a></li>
    <li><a href="Learn.html" class="learn-underline">Learn</a></li>
    <li><a href="practice.html">Practice</a></li>
    <li><a href="Simulations.html" class="simulations-underline">Simulations</a></li>
    <li><a href="AboutMe.html" class="about-underline">About Me</a></li>
  </ul>
  <div class="nav-logo">Career Solutions for Today</div>
  <div class="hamburger" id="hamburgerBtn" aria-label="Open navigation" tabindex="0">
    <span></span>
    <span></span>
    <span></span>
  </div>
</nav>

<div class="container">
  <aside class="sidebar" id="simulationsSidebar">
    <div id="desktopSidebar"></div>
    <div class="programs-row" id="programsRow" style="display:none;"></div>
    <div class="topics-row" id="topicsRow" style="display:none;"></div>
  </aside>
  
  <div class="main-content">
    <div class="sticky-filter">
      <input type="text" id="simulationsSearch" class="search-filter" placeholder="Search simulations..." />
    </div>
    <div id="simulationsResults">
      <div id="simulationsPlaceholder">
        <div class="simulations-welcome">
          <h2>ðŸŽ¯ Interactive Learning Simulations</h2>
          <p>Learn by doing with hands-on simulations. Build formulas step-by-step, understand concepts through practice, and master skills with interactive walkthroughs!</p>
          <div class="simulation-categories">
            <div class="category-card excel-category">
              <div class="category-icon">ðŸ“Š</div>
              <h3>Excel Formula Builder</h3>
              <p>Learn to write Excel formulas from scratch with guided step-by-step construction</p>
              <div class="category-badge">8 Formulas</div>
            </div>
            <div class="category-card coming-soon">
              <div class="category-icon">ðŸ”®</div>
              <h3>More Simulations</h3>
              <p>Additional interactive learning experiences coming soon!</p>
              <div class="category-badge">Coming Soon</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="js/contentItems.js"></script>
<script src="js/backgrounds.js"></script>
<script src="js/universalSidebar.js"></script>

<!-- Simulation-specific styles -->
<style>
.simulations-welcome {
  text-align: center;
  color: white;
  padding: 40px 20px;
}

.simulations-welcome h2 {
  font-size: 2.5rem;
  margin-bottom: 20px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.simulations-welcome p {
  font-size: 1.2rem;
  margin-bottom: 40px;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

.simulation-categories {
  display: flex;
  justify-content: center;
  gap: 30px;
  flex-wrap: wrap;
  max-width: 800px;
  margin: 0 auto;
}

.category-card {
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px 25px;
  border: 1px solid rgba(255,255,255,0.2);
  min-width: 280px;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
}

.category-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(0,255,166,0.2);
  border-color: rgba(0,255,166,0.5);
}

.excel-category:hover {
  box-shadow: 0 15px 35px rgba(0,119,190,0.3);
  border-color: rgba(0,119,190,0.6);
}

.coming-soon {
  opacity: 0.7;
  cursor: not-allowed;
}

.coming-soon:hover {
  transform: none;
  box-shadow: none;
}

.category-icon {
  font-size: 3rem;
  margin-bottom: 15px;
}

.category-card h3 {
  margin: 0 0 15px 0;
  color: white;
  font-size: 1.4rem;
}

.category-card p {
  font-size: 1rem;
  margin: 0 0 20px 0;
  color: rgba(255,255,255,0.9);
  line-height: 1.5;
}

.category-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background: linear-gradient(135deg, #00ffa6, #0077be);
  color: white;
  padding: 5px 12px;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: bold;
}

.coming-soon .category-badge {
  background: linear-gradient(135deg, #666, #999);
}

/* Excel Simulator Styles */
.excel-simulator-card {
  background: rgba(255,255,255,0.95);
  border-radius: 15px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.2);
  padding: 20px;
  margin-bottom: 30px;
  color: #333;
  border: 1px solid rgba(0,0,0,0.1);
}

.simulator-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid rgba(0,119,190,0.2);
}

.simulator-icon {
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #0078d4, #106ebe);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
}

.simulator-title h3 {
  margin: 0;
  font-size: 1.5rem;
  color: #0078d4;
}

.simulator-description {
  font-size: 0.9rem;
  color: #666;
  margin: 5px 0 0 0;
}

/* Excel Interface Styles */
.excel-interface {
  background: white;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  overflow: hidden;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* Excel Ribbon */
.excel-ribbon {
  background: #f8f9fa;
  border-bottom: 1px solid #d1d5db;
  padding: 0;
}

.ribbon-tabs {
  display: flex;
  gap: 0;
}

.ribbon-tab {
  padding: 8px 16px;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  font-size: 0.9rem;
  color: #666;
  transition: all 0.2s;
}

.ribbon-tab.active {
  background: white;
  border-bottom: 2px solid #0078d4;
  color: #0078d4;
  font-weight: 600;
}

.ribbon-tab:hover:not(.active) {
  background: #e9ecef;
  color: #333;
}

/* Excel Formula Bar */
.excel-formula-bar {
  background: white;
  border-bottom: 1px solid #d1d5db;
  display: flex;
  align-items: center;
  padding: 8px;
  gap: 8px;
}

.name-box {
  background: white;
  border: 1px solid #d1d5db;
  padding: 6px 10px;
  min-width: 80px;
  text-align: center;
  font-weight: 600;
  font-size: 0.9rem;
  border-radius: 3px;
}

.formula-input-area {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
}

.fx-label {
  font-weight: 600;
  color: #0078d4;
  font-size: 0.9rem;
}

.formula-bar-input {
  flex: 1;
  border: 1px solid #d1d5db;
  padding: 6px 12px;
  font-size: 0.9rem;
  border-radius: 3px;
  font-family: 'Consolas', 'Monaco', monospace;
}

.formula-bar-input:focus {
  outline: none;
  border-color: #0078d4;
  box-shadow: 0 0 0 1px #0078d4;
}

/* Excel Grid */
.excel-grid {
  background: white;
}

.grid-headers {
  display: flex;
  background: #f8f9fa;
  border-bottom: 1px solid #d1d5db;
}

.corner-cell {
  width: 40px;
  height: 25px;
  border-right: 1px solid #d1d5db;
  background: #f1f3f4;
}

.column-header {
  width: 100px;
  height: 25px;
  border-right: 1px solid #d1d5db;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.85rem;
  color: #333;
  background: #f8f9fa;
}

.grid-rows {
  max-height: 200px;
  overflow-y: auto;
}

.grid-row {
  display: flex;
  border-bottom: 1px solid #e5e7eb;
}

.row-header {
  width: 40px;
  height: 25px;
  border-right: 1px solid #d1d5db;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.85rem;
  color: #333;
  background: #f8f9fa;
}

.excel-cell {
  width: 100px;
  height: 25px;
  border-right: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  padding: 0 8px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s;
  background: white;
}

.excel-cell:hover {
  background: #f0f8ff;
}

.excel-cell.active-cell {
  background: #e6f3ff;
  border: 2px solid #0078d4;
  font-weight: 600;
}

.excel-cell.selected-range {
  background: #d4e7fd;
  border: 1px solid #4a9eff;
}

.excel-cell.formula-result {
  background: #e8f5e8;
  font-weight: 600;
  color: #2d5a2d;
}

/* Step Instructions */
.step-instructions {
  background: #f8f9ff;
  border: 1px solid #c7d2fe;
  border-radius: 8px;
  padding: 20px;
  margin: 20px 0;
}

.instruction-step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.step-number {
  display: inline-block;
  background: #0078d4;
  color: white;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  text-align: center;
  line-height: 28px;
  font-size: 0.9rem;
  font-weight: bold;
  flex-shrink: 0;
}

.instruction-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

.instruction-hint {
  background: rgba(255,193,7,0.1);
  border: 1px solid rgba(255,193,7,0.3);
  border-radius: 6px;
  padding: 12px;
  margin-top: 15px;
  font-size: 0.9rem;
  color: #856404;
}

/* Simulator Controls */
.simulator-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
  flex-wrap: wrap;
}

.sim-button {
  background: linear-gradient(135deg, #0078d4, #106ebe);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
}

.sim-button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,120,212,0.3);
}

.sim-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.sim-button.reset-button {
  background: linear-gradient(135deg, #6c757d, #495057);
}

.sim-button.hint-button {
  background: linear-gradient(135deg, #ffc107, #e0a800);
  color: #333;
}

.sim-button.next-button {
  background: linear-gradient(135deg, #28a745, #1e7e34);
}

/* Responsive Design */
@media (max-width: 768px) {
  .excel-simulator-card {
    padding: 15px;
  }
  
  .simulator-header {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
  
  .excel-grid {
    overflow-x: auto;
  }
  
  .grid-headers,
  .grid-row {
    min-width: 500px;
  }
  
  .simulator-controls {
    flex-direction: column;
    align-items: center;
  }
  
  .sim-button {
    width: 100%;
    max-width: 200px;
    justify-content: center;
  }
}

/* Formula Builder Styles (keep existing ones too) */
.formula-builder-card {
  background: rgba(255,255,255,0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  padding: 30px;
  margin-bottom: 30px;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255,255,255,0.2);
  color: white;
}

.builder-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 2px solid rgba(255,255,255,0.2);
}

.builder-icon {
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #00ffa6, #0077be);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: bold;
}

.builder-title h3 {
  margin: 0;
  font-size: 1.8rem;
  color: #00ffa6;
}

.builder-description {
  font-size: 1rem;
  color: #ccc;
  margin: 5px 0 0 0;
}

.formula-construction {
  background: rgba(0,0,0,0.2);
  border-radius: 12px;
  padding: 20px;
  margin: 20px 0;
}

.construction-step {
  margin: 15px 0;
  padding: 15px;
  background: rgba(255,255,255,0.05);
  border-radius: 8px;
  border-left: 4px solid #0077be;
}

.step-title {
  color: #00ffa6;
  font-weight: bold;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.step-number {
  display: inline-block;
  background: #0077be;
  color: white;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  text-align: center;
  line-height: 24px;
  font-size: 0.8rem;
  font-weight: bold;
}

.formula-input {
  background: #1e1e1e;
  border: 2px solid #333;
  color: #00ffa6;
  padding: 12px 15px;
  border-radius: 6px;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  width: 100%;
  margin: 10px 0;
  transition: all 0.3s ease;
}

.formula-input:focus {
  border-color: #00ffa6;
  outline: none;
  box-shadow: 0 0 10px rgba(0,255,166,0.3);
}

.formula-preview {
  background: #0077be;
  color: white;
  padding: 15px;
  border-radius: 8px;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  margin: 10px 0;
  border: 2px solid transparent;
  transition: all 0.3s ease;
}

.formula-preview.valid {
  border-color: #00ffa6;
  box-shadow: 0 0 10px rgba(0,255,166,0.2);
}

.formula-preview.invalid {
  border-color: #ff6b6b;
  background: #d32f2f;
}

.build-button {
  background: linear-gradient(135deg, #00ffa6, #0077be);
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 10px 5px;
}

.build-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,255,166,0.3);
}

.build-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.hint-box {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
}

.hint-box h5 {
  color: #00ffa6;
  margin: 0 0 10px 0;
}

@media (max-width: 768px) {
  .simulation-categories {
    flex-direction: column;
    align-items: center;
  }
  
  .category-card {
    min-width: auto;
    width: 100%;
    max-width: 350px;
  }
  
  .builder-header {
    flex-direction: column;
    text-align: center;
  }
}
</style>

<!-- Formula Builder JavaScript -->
<script>
// Excel Simulator JavaScript
class ExcelSimulator {
  constructor(formulaType) {
    this.formulaType = formulaType;
    this.currentStep = 0;
    this.selectedCells = [];
    this.formulaBar = document.getElementById(`${formulaType}-formula-bar`);
    this.resultCell = document.getElementById(`${formulaType}-result-cell`);
    this.instruction = document.getElementById(`${formulaType}-instruction`);
    this.hint = document.getElementById(`${formulaType}-hint`);
    this.nextBtn = document.getElementById(`${formulaType}-next-btn`);
    
    this.steps = this.getStepsForFormula(formulaType);
    this.initializeEventListeners();
  }
  
  getStepsForFormula(type) {
    const steps = {
      'sum': [
        {
          instruction: 'Click on cell A5 to select where you want your SUM formula',
          hint: 'Always start by selecting the cell where you want the result to appear',
          action: 'select-cell',
          target: 'A5',
          expectedFormula: ''
        },
        {
          instruction: 'Type "=" in the formula bar to start your formula',
          hint: 'Every Excel formula must begin with an equals sign',
          action: 'type-formula',
          target: '=',
          expectedFormula: '='
        },
        {
          instruction: 'Type "SUM" to specify the function you want to use',
          hint: 'SUM is the function that adds numbers together',
          action: 'type-formula',
          target: 'SUM',
          expectedFormula: '=SUM'
        },
        {
          instruction: 'Type "(" to open the function arguments',
          hint: 'Parentheses contain the arguments (inputs) for the function',
          action: 'type-formula',
          target: '(',
          expectedFormula: '=SUM('
        },
        {
          instruction: 'Click and drag from A1 to A4 to select the range, or type "A1:A4"',
          hint: 'This tells SUM which cells to add together',
          action: 'select-range',
          target: 'A1:A4',
          expectedFormula: '=SUM(A1:A4'
        },
        {
          instruction: 'Type ")" to close the function and complete your formula',
          hint: 'Don\'t forget to close the parentheses!',
          action: 'type-formula',
          target: ')',
          expectedFormula: '=SUM(A1:A4)'
        },
        {
          instruction: 'Press Enter to execute the formula',
          hint: 'The formula will calculate and show the result: 7600',
          action: 'execute',
          target: 'enter',
          expectedFormula: '=SUM(A1:A4)',
          result: '7600'
        }
      ],
      'average': [
        {
          instruction: 'Click on cell B4 to select where you want your AVERAGE formula',
          hint: 'This cell will display the calculated average',
          action: 'select-cell',
          target: 'B4',
          expectedFormula: ''
        },
        {
          instruction: 'Type "=" in the formula bar to start your formula',
          hint: 'Every Excel formula must begin with an equals sign',
          action: 'type-formula',
          target: '=',
          expectedFormula: '='
        },
        {
          instruction: 'Type "AVERAGE" to specify the function you want to use',
          hint: 'AVERAGE calculates the mean (average) of numbers',
          action: 'type-formula',
          target: 'AVERAGE',
          expectedFormula: '=AVERAGE'
        },
        {
          instruction: 'Type "(" to open the function arguments',
          hint: 'Parentheses contain the range of cells to average',
          action: 'type-formula',
          target: '(',
          expectedFormula: '=AVERAGE('
        },
        {
          instruction: 'Click and drag from B1 to B3 to select the range, or type "B1:B3"',
          hint: 'This selects the three test scores to average',
          action: 'select-range',
          target: 'B1:B3',
          expectedFormula: '=AVERAGE(B1:B3'
        },
        {
          instruction: 'Type ")" to close the function and complete your formula',
          hint: 'Complete the formula with the closing parenthesis',
          action: 'type-formula',
          target: ')',
          expectedFormula: '=AVERAGE(B1:B3)'
        },
        {
          instruction: 'Press Enter to execute the formula',
          hint: 'The formula will calculate and show the result: 85',
          action: 'execute',
          target: 'enter',
          expectedFormula: '=AVERAGE(B1:B3)',
          result: '85'
        }
      ]
    };
    return steps[type] || [];
  }
  
  initializeEventListeners() {
    // Cell click handlers
    document.querySelectorAll('.excel-cell').forEach(cell => {
      cell.addEventListener('click', (e) => this.handleCellClick(e));
    });
    
    // Formula bar input handler
    if (this.formulaBar) {
      this.formulaBar.addEventListener('input', (e) => this.handleFormulaInput(e));
      this.formulaBar.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          this.executeFormula();
        }
      });
    }
  }
  
  handleCellClick(event) {
    const cell = event.target;
    const cellRef = cell.dataset.cell;
    const step = this.steps[this.currentStep];
    
    if (!step) return;
    
    // Clear previous selections
    document.querySelectorAll('.excel-cell').forEach(c => {
      c.classList.remove('active-cell', 'selected-range');
    });
    
    if (step.action === 'select-cell' && cellRef === step.target) {
      cell.classList.add('active-cell');
      this.advanceStep();
    } else if (step.action === 'select-range') {
      this.handleRangeSelection(cellRef, step.target);
    }
  }
  
  handleRangeSelection(cellRef, expectedRange) {
    // Simplified range selection - in a real implementation, you'd handle drag selection
    if (expectedRange === 'A1:A4') {
      ['A1', 'A2', 'A3', 'A4'].forEach(ref => {
        const cell = document.querySelector(`[data-cell="${ref}"]`);
        if (cell) cell.classList.add('selected-range');
      });
      this.formulaBar.value = this.formulaBar.value + 'A1:A4';
      this.advanceStep();
    } else if (expectedRange === 'B1:B3') {
      ['B1', 'B2', 'B3'].forEach(ref => {
        const cell = document.querySelector(`[data-cell="${ref}"]`);
        if (cell) cell.classList.add('selected-range');
      });
      this.formulaBar.value = this.formulaBar.value + 'B1:B3';
      this.advanceStep();
    }
  }
  
  handleFormulaInput(event) {
    // For manual typing steps
    const step = this.steps[this.currentStep];
    if (!step || step.action !== 'type-formula') return;
    
    if (event.target.value === step.expectedFormula) {
      this.advanceStep();
    }
  }
  
  advanceStep() {
    this.currentStep++;
    this.updateInstruction();
    
    if (this.nextBtn) {
      this.nextBtn.disabled = false;
    }
  }
  
  updateInstruction() {
    const step = this.steps[this.currentStep];
    
    if (!step) {
      // Completed all steps
      if (this.instruction) {
        this.instruction.innerHTML = `
          <div class="instruction-step">
            <span class="step-number">âœ“</span>
            <div class="instruction-text">
              <strong>Congratulations!</strong> You've successfully built the ${this.formulaType.toUpperCase()} formula!
            </div>
          </div>
        `;
      }
      
      if (this.hint) {
        this.hint.innerHTML = `ðŸŽ‰ <strong>Great job!</strong> You now understand how to create ${this.formulaType.toUpperCase()} formulas in Excel.`;
      }
      
      return;
    }
    
    if (this.instruction) {
      this.instruction.innerHTML = `
        <div class="instruction-step">
          <span class="step-number">${this.currentStep + 1}</span>
          <div class="instruction-text">
            <strong>${step.instruction}</strong>
          </div>
        </div>
      `;
    }
    
    if (this.hint) {
      this.hint.innerHTML = `ðŸ’¡ <strong>Tip:</strong> ${step.hint}`;
    }
    
    // Enable formula bar for typing steps
    if (step.action === 'type-formula') {
      this.formulaBar.removeAttribute('readonly');
      this.formulaBar.focus();
    } else {
      this.formulaBar.setAttribute('readonly', 'true');
    }
  }
  
  executeFormula() {
    const step = this.steps[this.currentStep];
    if (!step || step.action !== 'execute') return;
    
    if (this.resultCell && step.result) {
      this.resultCell.textContent = step.result;
      this.resultCell.classList.add('formula-result');
    }
    
    this.advanceStep();
  }
  
  reset() {
    this.currentStep = 0;
    this.selectedCells = [];
    
    // Clear formula bar
    if (this.formulaBar) {
      this.formulaBar.value = '';
      this.formulaBar.setAttribute('readonly', 'true');
    }
    
    // Clear cell selections
    document.querySelectorAll('.excel-cell').forEach(cell => {
      cell.classList.remove('active-cell', 'selected-range', 'formula-result');
    });
    
    // Reset result cell
    if (this.resultCell) {
      this.resultCell.textContent = 'Select this cell';
      this.resultCell.classList.add('active-cell');
    }
    
    // Reset buttons
    if (this.nextBtn) {
      this.nextBtn.disabled = true;
    }
    
    this.updateInstruction();
  }
}

// Global simulator instances
let sumSimulator, averageSimulator;

// Initialize simulators when page loads
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(() => {
    const sumCard = document.querySelector('[data-formula-type="sum"]');
    const averageCard = document.querySelector('[data-formula-type="average"]');
    
    if (sumCard) {
      sumSimulator = new ExcelSimulator('sum');
    }
    
    if (averageCard) {
      averageSimulator = new ExcelSimulator('average');
    }
  }, 1000);
});

// Global functions for button handlers
function resetSumSimulation() {
  if (sumSimulator) sumSimulator.reset();
}

function resetAverageSimulation() {
  if (averageSimulator) averageSimulator.reset();
}

function nextStep(formulaType) {
  const simulator = formulaType === 'sum' ? sumSimulator : averageSimulator;
  if (simulator) {
    // For now, just advance to next step - in future could add auto-completion
    const nextBtn = document.getElementById(`${formulaType}-next-btn`);
    if (nextBtn) nextBtn.disabled = true;
  }
}

function showCurrentHint(formulaType) {
  const simulator = formulaType === 'sum' ? sumSimulator : averageSimulator;
  if (simulator && simulator.steps[simulator.currentStep]) {
    const step = simulator.steps[simulator.currentStep];
    alert(`Hint: ${step.hint}`);
  }
}
</script>

</body>
</html>
