:root {
  --bg: #f6f8fb;
  --card: #fff;
  --accent: #107c41;
  --muted: #6b7280;
}

body { font-family: Inter, 'Segoe UI', Roboto, Arial, sans-serif; background: var(--bg); color: #111; margin: 0 }
.container { max-width: 1100px; margin: 28px auto; padding: 20px }
.back-button { display: inline-block; margin: 10px 20px; color: #374151; text-decoration: none }

.programs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 22px }

.program-card { position: relative; background: #fff; border-radius: 14px; box-shadow: 0 6px 20px rgba(11,22,39,0.06); padding: 18px; overflow: visible; min-height: 220px; cursor: default; transition: transform .18s ease }
.program-card:focus { outline: 3px solid rgba(59,130,246,0.18); transform: translateY(-6px) }
.program-card:hover { transform: translateY(-6px) }

.program-icon-wrapper { width: 64px; height: 64px; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center }
.program-icon { width: 56px; height: 56px; display: block }
.program-name { text-align: center; font-size: 18px; margin: 6px 0 4px }
.program-tagline { text-align: center; color: #6b7280; font-size: 13px; margin: 0 0 8px }
.hover-instruction { text-align: center; color: #9ca3af; font-size: 12px; margin-top: 6px }

.shortcuts-web { position: absolute; left: 0; top: 0; right: 0; bottom: 0; pointer-events: auto }
.shortcut-bubble { position: absolute; width: 170px; max-width: 40%; min-width: 120px; background: #fff; border-radius: 10px; padding: 8px 10px; box-shadow: 0 6px 18px rgba(15,23,42,0.06); border: 1px solid rgba(15,23,42,0.03); transform-origin: center; transition: transform .28s cubic-bezier(.2,.9,.3,1), opacity .2s; opacity: 0; pointer-events: auto }
.shortcut-bubble .shortcut-key { display: block; font-weight: 700; color: #111827; font-size: 13px }
.shortcut-bubble .shortcut-desc { display: block; color: #6b7280; font-size: 12px; margin-top: 4px }

.connection-line { position: absolute; height: 2px; background: linear-gradient(90deg,#e6eefc,#f3f9ff); pointer-events: none; opacity: 0 }

.program-card:hover .shortcut-bubble,
.program-card:focus .shortcut-bubble,
.program-card.focused .shortcut-bubble { transform: translate(-50%, -50%) scale(1); opacity: 1 }
.program-card:hover .connection-line,
.program-card:focus .connection-line,
.program-card.focused .connection-line { opacity: 1 }

/* modal styles */
.ps-modal-backdrop { position: fixed; inset: 0; background: rgba(2,6,23,0.6); display: none; align-items: center; justify-content: center; z-index: 10000 }
.ps-modal-backdrop.visible { display:flex }
.ps-modal { background:#fff; border-radius:12px; padding:18px; width: min(720px, 94%); max-height: 86vh; overflow:auto }
.ps-modal h3 { margin-top:0 }
.ps-modal .cat { margin-top:12px }
.ps-modal .cat h4 { margin:6px 0 }
.ps-modal .close-btn { background:#ef4444; color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; float:right }

/* staggered enter delays */
.shortcut-bubble.delay-1 { transition-delay: .02s }
.shortcut-bubble.delay-2 { transition-delay: .06s }
.shortcut-bubble.delay-3 { transition-delay: .1s }
.shortcut-bubble.delay-4 { transition-delay: .14s }
.shortcut-bubble.delay-5 { transition-delay: .18s }
.shortcut-bubble.delay-6 { transition-delay: .22s }

@media (max-width: 700px) {
  /* hide radial bubbles on small screens in favor of modal list */
  .shortcuts-web { display: none }
  .program-card { min-height: 140px }
}

.view-shortcuts { background:#0b61a4; color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600 }
.view-shortcuts:focus { outline:3px solid rgba(59,130,246,0.2) }

/* fallback when icon files are missing */
.program-icon-fallback {
  width:56px; height:56px; display:flex; align-items:center; justify-content:center; font-size:28px; margin:0 auto 10px;
  background:linear-gradient(180deg,#ffffff,#f4f6fb); border-radius:10px; box-shadow:0 6px 18px rgba(15,23,42,0.06);
}
